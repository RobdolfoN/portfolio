{% extends "portfolioapp/base.html" %}
{% load static %}

{% block content %}
<div class="relative text-gray-800 bg-gray-50">
    <section class="py-10 md:py-16">
        <div class="container max-w-screen-xl mx-auto px-4">
            <div class="text-left">
                <h6 class="font-medium text-gray-600 text-lg md:text-2xl uppercase mb-8">
                    YouTube Live Stream Viewer Counts</h6>
                <p class="font-normal text-gray-600 text-sm md:text-md lg:text-lg mb-16">
                    Below is the current live stream viewer count for the specified YouTube channel.
                </p>
            </div>

            <div class="text-left mb-8">
                <h2 class="font-medium text-gray-600 text-sm md:text-lg uppercase mb-2">Top 10 Live Streams:</h2>
                <div id="youtube-chart"></div>
                <ul class="mt-8">
                    {% for video in videos %}
                        <li class="mb-4">
                            <h3 class="text-lg font-semibold">{{ video.title }}</h3>
                            <p class="text-sm text-gray-600">Views: {{ video.views }}</p>
                            <p class="text-sm text-gray-600">Date: {{ video.published_at }}</p>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </section>
</div>

<!-- <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        var plotData = {{ plot_div|safe }};
        Plotly.newPlot('youtube-chart', plotData.data, plotData.layout);
    });
</script> -->

{% endblock %}